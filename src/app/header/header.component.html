<div>
    <nav
        class="navbar navbar-light"
        [ngClass]="{
            'header-dark-mode': darkModeService.isDarkMode
        }"
    >
        <div class="header-name-gear-icon">
            <button
                class="off-canvas-start-button"
                [ngClass]="{
                    'header-button-dark-mode': darkModeService.isDarkMode
                }"
                type="button"
                title="hap menynë"
                data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasStart"
                aria-controls="offcanvasStart"
            >
                <span
                    class="navbar-toggler-icon"
                    [ngClass]="{
                        'navbar-toggler-icon-dark-mode':
                            darkModeService.isDarkMode
                    }"
                    data-test="navbar-toggler-icon"
                ></span>
            </button>
            <span
                routerLink="/"
                title="faqja kryesore"
                class="penda-header-logo cursor-pointer"
                [ngClass]="{
                    'header-text-dark-mode': darkModeService.isDarkMode
                }"
                data-test="penda-home-button"
                >&nbsp;penda</span
            >
        </div>

        <div class="header-name-gear-icon">
            <button class='btn btn-primary' routerLink="/authentication">Identifikohu</button>
            <!-- <i class="bi bi-lock-fill" style='font-size: 20px'></i> ??? person-fill-lock -->
            <span style='padding-left:1rem; font-size: 20px; color:#d2d2d2;'>|</span>
            <i
                class="p-3 cursor-pointer settings-gear-button"
                title="hap cilësimet"
                [ngClass]="{
                    'bi bi-gear': !isSettingsRoute(),
                    'bi bi-gear-fill': isSettingsRoute(),
                    'settings-gear-dark-mode': darkModeService.isDarkMode
                }"
                routerLink="/settings"
                data-test="gear-button-testing"
            ></i>
        </div>
    </nav>
</div>

<div
    id="offcanvasStart"
    class="offcanvas offcanvas-start"
    [ngClass]="{
        'offcanvas-start-dark-mode': darkModeService.isDarkMode
    }"
    tabindex="-1"
    aria-labelledby="offcanvasStartLabel"
>
    <div
        class="offcanvas-header"
        [ngClass]="{
            'offcanvas-header-dark-mode': darkModeService.isDarkMode
        }"
    >
        <h5 id="offcanvasStartLabel">penda</h5>
        <button
            id="offcanvasCloseButton"
            type="button"
            class="btn-close text-reset"
            [ngClass]="{
                'offcanvas-close-button-dark-mode': darkModeService.isDarkMode
            }"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
            data-test="close-offcanvas-button"
        ></button>
    </div>
    <hr class="off-canvas-hr" />
    <div
        class="offcanvas-body"
        [ngClass]="{
            'offcanvas-body-dark-mode': darkModeService.isDarkMode
        }"
    >
        <div class="list-group list-group-flush">
            <div class="item-action-list">
                <!--                <div style="box-shadow: 0 0 1px 1px #E3E3E3AE;">-->
                <!--                    <a role="button" class="dropdown-toggle list-group-item list-group-item-action mb-3"-->
                <!--                       data-bs-toggle="dropdown" aria-expanded="false">Llojet&nbsp;e&nbsp;Shenjimeve&nbsp;<span-->
                <!--                        class="badge bg-primary rounded-pill">{{markingTypesCount}}</span>-->
                <!--                    </a>-->
                <!--                    <ul class="dropdown-menu">-->
                <!--                        <li *ngFor="let markingTypeKey of markingTypeKeys">-->
                <!--                            <a class="{{markingTypes[markingTypeKey]['enabled'] === false ? 'disabled':''}} dropdown-item"-->
                <!--                               routerLink="{{markingTypeKey}}"-->
                <!--                               (click)="closeOffcanvas()">{{markingTypes[markingTypeKey]['description']}}</a>-->
                <!--                        </li>-->
                <!--                    </ul>-->
                <!--                </div>-->
                <div>
                    <a
                        data-test="settings-button"
                        routerLink="/settings"
                        class="nav-text list-group-item-action mb-3"
                        [ngClass]="{
                            'offcanvas-nav-text-dark-mode':
                                darkModeService.isDarkMode
                        }"
                        role="button"
                        data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasStart"
                        aria-controls="offcanvasStart"
                        ><i
                            class="bi bi-gear"
                            [ngClass]="{
                                'offcanvas-bi-info-circle-dark-mode':
                                    darkModeService.isDarkMode
                            }"
                        >
                        </i
                        >Cilësimet</a
                    >
                </div>
                <div>
                    <a
                        data-test="shortcuts-button"
                        routerLink="/shortcuts"
                        class="nav-text list-group-item-action mb-3"
                        [ngClass]="{
                            'offcanvas-nav-text-dark-mode':
                                darkModeService.isDarkMode
                        }"
                        role="button"
                        data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasStart"
                        aria-controls="offcanvasStart"
                    ><i
                        class="bi bi-keyboard"
                        [ngClass]="{
                                'offcanvas-bi-info-circle-dark-mode':
                                    darkModeService.isDarkMode
                            }"
                    >
                    </i
                    >Shkurtimet</a
                    >
                </div>
                <div>
                    <a
                        routerLink="/about"
                        role="button"
                        data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasStart"
                        aria-controls="offcanvasStart"
                        class="nav-text list-group-item-action mb-3"
                        [ngClass]="{
                            'offcanvas-nav-text-dark-mode':
                                darkModeService.isDarkMode
                        }"
                        ><i
                            class="bi bi-info-circle"
                            [ngClass]="{
                                'offcanvas-bi-info-circle-dark-mode':
                                    darkModeService.isDarkMode
                            }"
                        >
                        </i
                        >Rreth&nbsp;Penda</a
                    >
                </div>
                <div>
                    <a
                        href="https://github.com/OpenCovenant"
                        role="button"
                        class="nav-text list-group-item-action mb-3"
                        [ngClass]="{
                            'offcanvas-nav-text-dark-mode':
                                darkModeService.isDarkMode
                        }"
                        target="_blank"
                        rel="noopener noreferrer"
                        ><i
                            class="bi bi-house-door"
                            [ngClass]="{
                                'offcanvas-bi-info-circle-dark-mode':
                                    darkModeService.isDarkMode
                            }"
                        >
                        </i
                        >Rreth&nbsp;Nesh</a
                    >
                </div>
            </div>
            <hr class="off-canvas-hr" />
            <div class="d-flex dark-mode-div">
                <div>Ndrysho Pamjen</div>

                <div class="toggle-switch">
                    <label class="dark-mode-label cursor-pointer">
                        <input
                            data-test="dark-mode-button-toggle-switch"
                            class="dark-mode-input"
                            type="checkbox"
                            [id]="darkModeService"
                            [(ngModel)]="darkModeService.isDarkMode"
                            (change)="darkModeService.onDarkModeChange()"
                        />
                        <span class="dark-mode-slider"></span>
                    </label>
                </div>
            </div>
            <ng-template
                [ngIf]="darkModeService.isDarkMode"
                [ngIfElse]="otherModeText"
            >
                <span class="dark-mode-informative-text"
                    >Përdor Pamjen e Çelur</span
                >
            </ng-template>
            <ng-template #otherModeText>
                <span class="light-mode-informative-text"
                    >Përdor Pamjen e Errët</span
                >
            </ng-template>
        </div>
    </div>
</div>
